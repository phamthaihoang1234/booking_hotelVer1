<!doctype html>
<html lang="en">
    <head>
        <!-- Required meta tags -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="icon" href="/image/hotel_detail/favicon.png" type="image/png">
        <title>Royal Hotel</title>
        <!-- Bootstrap CSS -->
        <link rel="stylesheet" href="/css/hotel_detail/bootstrap.css">
        <link rel="stylesheet" href="vendors/linericon/style.css">
        <link rel="stylesheet" href="/css/hotel_detail/font-awesome.min.css">
        <link rel="stylesheet" href="vendors/owl-carousel/owl.carousel.min.css">
        <link rel="stylesheet" href="vendors/bootstrap-datepicker/bootstrap-datetimepicker.min.css">
        <link rel="stylesheet" href="vendors/nice-select/css/hotel_detail/nice-select.css">
        <link rel="stylesheet" href="vendors/owl-carousel/owl.carousel.min.css">
        <!-- main css -->
        <link rel="stylesheet" href="/css/hotel_detail/style.css">
        <link rel="stylesheet" href="/css/hotel_detail/responsive.css">
        <meta name="_csrf" th:content="${_csrf.token}"/>
        <!-- default header name is X-CSRF-TOKEN -->
        <meta name="_csrf_header" th:content="${_csrf.headerName}"/>
    </head>

    <body>

        <div id="header"></div>
        <!--================Header Area =================-->

        <!--================Banner Area =================-->
        <section class="banner_area">
            <div class="booking_table d_flex align-items-center">
            	<div class="overlay bg-parallax" th:style="'background:url('+${background_image}+') no-repeat scroll center 0 / cover;'" data-stellar-ratio="0.9" data-stellar-vertical-offset="0" data-background=""></div>
				<div class="container">
					<div class="banner_content text-center">
						<h6>Thoát khỏi cuộc sống đơn điệu</h6>
						<h2 th:text="${hotel.getNameOfHotel()}" id="hotel_name"></h2>
						<p>Mọi tiện nghi bạn cần cho 1 chuyến du lịch có ngay tại đây<br>Chúng tôi sẵn lòng phục vụ mọi thứ cho bạn</p>
<!--						<a href="#" class="btn theme_btn button_hover">Get Started</a>-->
					</div>
				</div>
            </div>
            <div class="hotel_booking_area position">
                <div class="container">
                    <div class="hotel_booking_table">
                        <div class="col-md-3">
                            <h2>Tìm<br> Phòng </h2>
                        </div>
                        <div class="col-md-9">
                            <div class="boking_table">
                                <div class="row">
                                    <div class="col-md-4">
                                        <div class="book_tabel_item">
                                            <div class="form-group">
                                                <div class='input-group date' id='datetimepicker11'>
                                                    <input type='date' class="form-control" placeholder="Arrival Date" id="datePicker_1" style="background-color: white;color:black;"/>

                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <div class='input-group date' id='datetimepicker1'>
                                                    <input type='date' class="form-control" placeholder="Departure Date" id="datePicker_2" style="background-color: white;color:black;"/>
<!--                                                    <span class="input-group-addon">-->
<!--                                                        <i class="fa fa-calendar" aria-hidden="true"></i>-->
<!--                                                    </span>-->
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="book_tabel_item">
                                            <div class="input-group">
                                                <select class="wide" id="dropList">
<!--                                                    <option data-display="Adult">Adult</option>-->
                                                    <option value="1">Phòng 1 người</option>
                                                    <option value="2" selected>Phòng 2 Người</option>
                                                    <option value="3">Phòng 3 người</option>
                                                    <option value="4">Phòng 4 người</option>
                                                </select>
                                            </div>
<!--                                            <div class="input-group">-->
<!--&lt;!&ndash;                                                <select class="wide">&ndash;&gt;-->
<!--&lt;!&ndash;                                                    <option data-display="Child">Child</option>&ndash;&gt;-->
<!--&lt;!&ndash;                                                    <option value="1">Child</option>&ndash;&gt;-->
<!--&lt;!&ndash;                                                    <option value="2">Baby</option>&ndash;&gt;-->
<!--&lt;!&ndash;                                                    <option value="3">Child</option>&ndash;&gt;-->
<!--&lt;!&ndash;                                                </select>&ndash;&gt;-->
<!--                                            </div>-->
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="book_tabel_item">
<!--                                            <div class="input-group">-->
<!--                                                <select class="wide">-->
<!--                                                    <option data-display="Child">Number of Rooms</option>-->
<!--                                                    <option value="1">Room 01</option>-->
<!--                                                    <option value="2">Room 02</option>-->
<!--                                                    <option value="3">Room 03</option>-->
<!--                                                </select>-->
<!--                                            </div>-->
                                            <a class="book_now_btn button_hover" id="bookBtn" href="#">Tìm Kiếm</a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <!--================Banner Area =================-->

        <!--================ Accomodation Area  =================-->
        <div id="rooms"></div>
        <!--================ Accomodation Area  =================-->

        <!--================ Facilities Area  =================-->
        <section class="facilities_area section_gap">
            <div class="overlay bg-parallax"  data-stellar-ratio="0.8" data-stellar-vertical-offset="0" data-background="">

            </div>

            <div class="container">
                <div class="section_title text-center">
                    <h2 class="title_w">Dịch vụ tiện ích</h2>
                    <p>Mọi sự trải nghiệm mà bạn cần</p>
                </div>
                <div class="row mb_30">
                    <div class="col-lg-4 col-md-6">
                        <div class="facilities_item">
                            <h4 class="sec_h4"><i class="lnr lnr-dinner"></i>Nhà Hàng</h4>
                            <p>Mọi món ăn được chuẩn bị chỉn chu từ những đầu bếp hàng đầu trong và ngoài nước</p>
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-6">
                        <div class="facilities_item">
                            <h4 class="sec_h4"><i class="lnr lnr-bicycle"></i>Câu lạc bộ thể thao</h4>
                            <p>Sẵn sàng đem lại cho bạn cảm giác khỏe mạnh sau mỗi buổi tập</p>
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-6">
                        <div class="facilities_item">
                            <h4 class="sec_h4"><i class="lnr lnr-shirt"></i>Bể bơi</h4>
                            <p>Nơi bạn có thể cảm nhận những sảng khoái mỗi ngày ngoài trời cùng bạn bè, người thân</p>
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-6">
                        <div class="facilities_item">
                            <h4 class="sec_h4"><i class="lnr lnr-car"></i>Dịch vu cho thuê xe</h4>
                            <p>Sẵn sàng phục vụ bạn mỗi khi bạn cần đi đến điểm đến xa hơn với bạn tưởng tượng</p>
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-6">
                        <div class="facilities_item">
                            <h4 class="sec_h4"><i class="lnr lnr-construction"></i>Phòng tập</h4>
                            <p>Nơi bạn có thể chăm sóc , rèn luyện cơ thể với các pt , thiết bị chuyên dụng</p>
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-6">
                        <div class="facilities_item">
                            <h4 class="sec_h4"><i class="lnr lnr-coffee-cup"></i>Quán Bar</h4>
                            <p>Vui vẻ cùng bạn bè vào mỗi tối là một điều chung tôi luôn sẵn sàng</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <!--================ Facilities Area  =================-->

        <!--================ About History Area  =================-->
        <section class="about_history_area section_gap">
            <div class="container">
                <div class="row">
                    <div class="col-md-6 d_flex align-items-center">
                        <div class="about_content ">
                            <h2 class="title title_color">Về Chúng Tôi <br>Lịch Sử Của Chúng Tôi<br>Nhiệm Vụ & Tầm Nhìn</h2>
                            <p>Những khách hàng hài lòng và được chăm sóc chu đáo có thể trở thành những đại sứ thương hiệu tốt nhất. Mặt khác, những khách hàng bị bỏ quên có thể dễ dàng làm hỏng uy tín thương hiệu và gây thiệt hại tài chính cho doanh nghiệp. </p>
<!--                            <a href="#" class="button_hover theme_btn_two">Request Custom Price</a>-->
                        </div>
                    </div>
                    <div class="col-md-6">
                        <img class="img-fluid" th:src="${hotel.getImages().get(1).getImage()}" alt="img">
                    </div>
                </div>
            </div>
        </section>
        <!--================ About History Area  =================-->

        <!--================ Testimonial Area  =================-->
<!--        <section class="testimonial_area section_gap">-->
<!--            <div class="container">-->
<!--                <div class="section_title text-center">-->
<!--                    <h2 class="title_color">Testimonial from our Clients</h2>-->
<!--                    <p>The French Revolution constituted for the conscience of the dominant aristocratic class a fall from </p>-->
<!--                </div>-->
<!--                <div class="testimonial_slider owl-carousel">-->
<!--                    <div class="media testimonial_item">-->
<!--                        <img class="rounded-circle" src="/image/hotel_detail/testtimonial-1.jpg" alt="">-->
<!--                        <div class="media-body">-->
<!--                            <p>As conscious traveling Paupers we must always be concerned about our dear Mother Earth. If you think about it, you travel across her face, and She is the </p>-->
<!--                            <a href="#"><h4 class="sec_h4">Fanny Spencer</h4></a>-->
<!--                            <div class="star">-->
<!--                                <a href="#"><i class="fa fa-star"></i></a>-->
<!--                                <a href="#"><i class="fa fa-star"></i></a>-->
<!--                                <a href="#"><i class="fa fa-star"></i></a>-->
<!--                                <a href="#"><i class="fa fa-star"></i></a>-->
<!--                                <a href="#"><i class="fa fa-star-half-o"></i></a>-->
<!--                            </div>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                    <div class="media testimonial_item">-->
<!--                        <img class="rounded-circle" src="/image/hotel_detail/testtimonial-1.jpg" alt="">-->
<!--                        <div class="media-body">-->
<!--                            <p>As conscious traveling Paupers we must always be concerned about our dear Mother Earth. If you think about it, you travel across her face, and She is the </p>-->
<!--                            <a href="#"><h4 class="sec_h4">Fanny Spencer</h4></a>-->
<!--                            <div class="star">-->
<!--                                <a href="#"><i class="fa fa-star"></i></a>-->
<!--                                <a href="#"><i class="fa fa-star"></i></a>-->
<!--                                <a href="#"><i class="fa fa-star"></i></a>-->
<!--                                <a href="#"><i class="fa fa-star"></i></a>-->
<!--                                <a href="#"><i class="fa fa-star-half-o"></i></a>-->
<!--                            </div>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                    <div class="media testimonial_item">-->
<!--                        <img class="rounded-circle" src="/image/hotel_detail/testtimonial-1.jpg" alt="">-->
<!--                        <div class="media-body">-->
<!--                            <p>As conscious traveling Paupers we must always be concerned about our dear Mother Earth. If you think about it, you travel across her face, and She is the </p>-->
<!--                            <a href="#"><h4 class="sec_h4">Fanny Spencer</h4></a>-->
<!--                            <div class="star">-->
<!--                                <a href="#"><i class="fa fa-star"></i></a>-->
<!--                                <a href="#"><i class="fa fa-star"></i></a>-->
<!--                                <a href="#"><i class="fa fa-star"></i></a>-->
<!--                                <a href="#"><i class="fa fa-star"></i></a>-->
<!--                                <a href="#"><i class="fa fa-star-half-o"></i></a>-->
<!--                            </div>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                    <div class="media testimonial_item">-->
<!--                        <img class="rounded-circle" src="/image/hotel_detail/testtimonial-1.jpg" alt="">-->
<!--                        <div class="media-body">-->
<!--                            <p>As conscious traveling Paupers we must always be concerned about our dear Mother Earth. If you think about it, you travel across her face, and She is the </p>-->
<!--                            <a href="#"><h4 class="sec_h4">Fanny Spencer</h4></a>-->
<!--                            <div class="star">-->
<!--                                <a href="#"><i class="fa fa-star"></i></a>-->
<!--                                <a href="#"><i class="fa fa-star"></i></a>-->
<!--                                <a href="#"><i class="fa fa-star"></i></a>-->
<!--                                <a href="#"><i class="fa fa-star"></i></a>-->
<!--                                <a href="#"><i class="fa fa-star-half-o"></i></a>-->
<!--                            </div>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                </div>-->
<!--            </div>-->
<!--        </section>-->

        <!--================ Recent Area  =================-->

        <!--================ start footer Area  =================-->
        <div id="footer"></div>
		<!--================ End footer Area  =================-->
        
        
        <!-- Optional JavaScript -->
        <!-- jQuery first, then Popper.js, then Bootstrap JS -->
        <script src="/js/hotel_detail/jquery-3.2.1.min.js"></script>
        <script src="/js/hotel_detail/popper.js"></script>
        <script src="/js/hotel_detail/bootstrap.min.js"></script>
        <script src="vendors/owl-carousel/owl.carousel.min.js"></script>
        <script src="/js/hotel_detail/jquery.ajaxchimp.min.js"></script>
        <script src="/js/hotel_detail/mail-script.js"></script>
        <script src="vendors/bootstrap-datepicker/bootstrap-datetimepicker.min.js"></script>
        <script src="vendors/nice-select/js/hotel_detail/jquery.nice-select.js"></script>
        <script src="/js/hotel_detail/mail-script.js"></script>
        <script src="/js/hotel_detail/stellar.js"></script>
        <script src="vendors/lightbox/simpleLightbox.min.js"></script>
        <script src="/js/hotel_detail/custom.js"></script>
        <script>
        $("#header").load("/header");
        $("#footer").load("/footer");

        $('#datePicker_1').val(localStorage.searchhotels_tmp_checkin);
        $('#datePicker_2').val(localStorage.searchhotels_tmp_checkout);
        if(localStorage.searchhotels_tmp_numberofpeople!=undefined)
        $('.input-group select').val(localStorage.searchhotels_tmp_numberofpeople);
        $(document).ready(function(){
            getRooms();
        })


        function getRooms(){
            let token = $("meta[name='_csrf']").attr("content");
            let header = $("meta[name='_csrf_header']").attr("content");
            $(document).ajaxSend(function (e, xhr, options) {
                xhr.setRequestHeader(header, token);
            });
            let start_date = "no-date";
            let end_date = "no-date";
            let number_of_people = 0;
            if(localStorage.searchhotels_tmp_checkin!=undefined){
                start_date = localStorage.searchhotels_tmp_checkin;
            }
            if(localStorage.searchhotels_tmp_checkout!=undefined){
                end_date = localStorage.searchhotels_tmp_checkout;
            }
            if(localStorage.searchhotels_tmp_numberofpeople){
                number_of_people = localStorage.searchhotels_tmp_numberofpeople;
            }

            $.ajax({

                url: '/getRoomsHotelDetail',
                type: 'post',
                data: {
                    'hotel_name': document.getElementById("hotel_name").innerText,
                    'start_date':start_date,
                    'end_date': end_date,
                    'number_of_people':number_of_people,

                },
                dataType: 'text',


                success: function (data) {
                    if (data !== 'error') {
                        // console.log("done");
                        setTimeout(function () {
                            $("#rooms").html(data)
                        }, 100)
                    }
                },
                error: function (request, error) {
                    alert("Request: " + JSON.stringify(request));
                }
            });

        }
        $('#bookBtn').click(function ValidateTime(e){
            e.preventDefault();
            var today = new Date().getTime() ;
            var check_in = new Date(document.getElementById("datePicker_1").value);
            var check_out = new Date(document.getElementById("datePicker_2").value);
            if(check_in=='Invalid Date'||check_out=='Invalid Date'){
                alert("Vui lòng nhập đúng ngày tháng");
            }else if(new Date().getTime() >= check_in||new Date().getTime() >= check_in){
                alert("Vui lòng chọn ngày đặt phòng hơn ngày hiện tại ít nhất 1 ngày");
                // var date = today.getFullYear()+'-'+(today.getMonth()+1)+'-'+today.getDate();
            }else{

                //check_in
                var month_check_in = check_in.getMonth() + 1;
                var day_check_in = check_in.getDate();
                if (check_in.getMonth() < 10) month_check_in = "0" + month_check_in;
                if (day_check_in < 10) day_check_in = "0" + day_check_in;
                //check_out
                var month_check_out = check_out.getMonth() + 1;
                var day_check_out = check_out.getDate();
                if (check_out.getMonth() < 10) month_check_out = "0" + month_check_out;
                if (day_check_out < 10) day_check_out = "0" + day_check_out;
                //convert
                var check_in_convert = check_in.getFullYear() + "-" + month_check_in + "-" + day_check_in;
                var check_out_convert = check_out.getFullYear() + "-" + month_check_out + "-" + day_check_out;
                //save
                localStorage.searchhotels_tmp_checkin = check_in_convert;
                localStorage.searchhotels_tmp_checkout = check_out_convert;
                localStorage.searchhotels_tmp_numberofpeople = parseInt($('#dropList').val());
                console.log(check_in_convert+","+check_out_convert);
                getRooms();

            }
        });
        </script>

    </body>
</html>